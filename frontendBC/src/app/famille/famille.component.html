<main>
  <button class="btn2" (click)="toggleAddModal()">Ajouter une Famille</button>
  <br><br><br>
  <div class="familles-table-container">
    <table>
      <thead>
        <tr>
          <th>Nom</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody style="padding-left: 2rem;">
        <tr *ngFor="let famille of familles">
          <td>{{ famille.nom }}</td>
          <td>
            <button style="background-color: red;" (click)="deleteFamille(famille.id)">Supprimer</button>
            <button (click)="toggleModal(); selectFamille(famille)">Modifier</button>
            <button (click)="navigateToArticles(famille.id)">Voir Articles</button> <!-- Button to navigate to articles -->
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</main>

<!-- Update Famille Modal -->
<div id="updateFamilleModal" class="modal" [class.show]="showModal">
  <div class="rectangle">
    <span class="close" (click)="closeModal()">&times;</span>
    <form #familleForm="ngForm" (ngSubmit)="submitUpdate()">
      <h2 style="text-align: center;">Modifier la Famille</h2>
      <label for="nom">Nom:</label>
      <input type="text" id="nom" name="nom" [(ngModel)]="selectedFamille.nom" required>

      <button type="submit">Modifier</button>
    </form>
  </div>
</div>

<!-- Add Famille Modal -->
<div id="addFamilleModal" class="modal" [class.show]="showAddModal">
  <div class="rectangle">
    <span class="close" (click)="closeAddModal()">&times;</span>
    <form #addFamilleForm="ngForm" (ngSubmit)="submitAddFamille()">
      <h2>Ajouter une nouvelle Famille</h2>
      <label for="nom">Nom:</label>
      <input type="text" id="nom" name="nom" [(ngModel)]="newFamille.nom" required>
      
      <button class="btn3" type="submit">Ajouter</button>
    </form>
  </div>
</div>
